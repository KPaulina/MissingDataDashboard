{%  extends "data_display/base.html" %}


{% load static %}

{% block title %}

    See the columns in the dataframe
{%  endblock %}

{% block content %}
    <div id="container">
    <div id="columns">
    <h4>Columns in your dataframe</h4>
    <ul>
        {% for column in column_names %}
            <li>{{ column }}</li>
        {% endfor %}
    </ul>
    </div>


    <div id="form">
    <a>Choose columns for creating charts and making imputations</a><br>
    <form action='.' method="POST">
        {% csrf_token %}
        {{ form.as_p }}
{#        <input type='text' name='column1' placeholder="column1" />#}
{#        <input type='text' name='column2' placeholder="column2" />#}
{#        <input type="text" name="imputation" placeholder="imputation" />#}
        <select name="imputation" class="form-select" aria-label="Default select example">
            <option value="mean" class="dropdown-item">mean</option>
            <option value="median" class="dropdown-item">median</option>
            <option value="most_frequent" class="dropdown-item">most frequent</option>
            <option value="constant" class="dropdown-item">constant</option>
        </select>
        <br>
        <button type="submit" class="btn btn-success">Submit columns names</button>
    </form>
    </div>
    <div id="table">
    <table>
        <tr>
            <th> {{ column1 }}</th>
            <th>{{ column2 }}</th>
        </tr>
        <tr>
            <td> Standard deviation before imputation: {{ std1 }} </td>
            <td> Standard deviation before imputation: {{ std2 }} </td>
        </tr>
        <tr>
            <td> Standard deviation after imputation: {{ std_imputation1 }} </td>
            <td> Standard deviation after imputation: {{ std_imputation2 }} </td>
        </tr>
    </table>
    </div>
    <br>
    <br>
    <div id="chart">
    <h4>{{ text }}</h4>
    {% if dashboard_created %}
        {{ chart2|safe }}

        {{ chart|safe }}
    </div>
    <div id="chart">
    <h4>After imputation</h4>
    <br>
        {{ chart_imputation_2|safe }}

        {{ chart_imputation_1|safe }}

    {% endif %}

    {% if dashboard_not_created %}
        {{ error }}
    {% endif %}
    </div>
    </div>
{% endblock %}
